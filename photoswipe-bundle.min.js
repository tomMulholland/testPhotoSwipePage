(function(f,n){"function"===typeof define&&define.amd?define(n):"object"===typeof exports?module.exports=n():f.PhotoSwipe=n()})(this,function(){return function(f,n,r,Va){var g={features:null,bind:function(a,b,c,h){h=(h?"remove":"add")+"EventListener";b=b.split(" ");for(var d=0;d<b.length;d++)if(b[d])a[h](b[d],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||"div");a&&(c.className=a);return c},getScrollY:function(){var a=window.pageYOffset;
return void 0!==a?a:document.documentElement.scrollTop},unbind:function(a,b,c){g.bind(a,b,c,!0)},removeClass:function(a,b){a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(a,b){g.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return a.className&&(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(g.hasClass(c,b))return c;c=
c.nextSibling}},arraySearch:function(a,b,c){for(var h=a.length;h--;)if(a[h][c]===b)return h;return-1},extend:function(a,b,c){for(var h in b)!b.hasOwnProperty(h)||c&&a.hasOwnProperty(h)||(a[h]=b[h])},easing:{sine:{out:function(a){return Math.sin(Math.PI/2*a)},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(g.features)return g.features;var a=g.createEl().style,b="",c={};c.oldIE=document.all&&!document.addEventListener;c.touch=
"ontouchstart"in window;window.requestAnimationFrame&&(c.raf=window.requestAnimationFrame,c.caf=window.cancelAnimationFrame);c.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled;if(!c.pointerEvent){b=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var h=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);h&&0<h.length&&(h=parseInt(h[1],10),1<=h&&8>h&&(c.isOldIOSPhone=!0))}h=(h=b.match(/Android\s([0-9\.]*)/))?h[1]:0;h=parseFloat(h);1<=h&&(4.4>h&&(c.isOldAndroid=!0),c.androidVersion=
h);c.isMobileOpera=/opera mini|opera mobi/i.test(b)}for(var h=["transform","perspective","animationName"],d=["","webkit","Moz","ms","O"],e,f,k=0;4>k;k++){for(var b=d[k],q=0;3>q;q++)e=h[q],f=b+(b?e.charAt(0).toUpperCase()+e.slice(1):e),!c[e]&&f in a&&(c[e]=f);b&&!c.raf&&(b=b.toLowerCase(),c.raf=window[b+"RequestAnimationFrame"],c.raf&&(c.caf=window[b+"CancelAnimationFrame"]||window[b+"CancelRequestAnimationFrame"]))}if(!c.raf){var l=0;c.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-
l)),h=window.setTimeout(function(){a(b+c)},c);l=b+c;return h};c.caf=function(a){clearTimeout(a)}}c.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;return g.features=c}};g.detectFeatures();g.features.oldIE&&(g.bind=function(a,b,c,h){b=b.split(" ");for(var d=(h?"detach":"attach")+"Event",e,f=function(){c.handleEvent.call(c)},g=0;g<b.length;g++)if(e=b[g])if("object"===typeof c&&c.handleEvent){if(!h)c["oldIE"+e]=f;else if(!c["oldIE"+e])return!1;
a[d]("on"+e,c["oldIE"+e])}else a[d]("on"+e,c)});var d=this,k={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return"A"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:.7>b.initialZoomLevel?1:1.33},maxSpreadZoom:1.33,modal:!0,
scaleMode:"fit"};g.extend(k,Va);var K=function(){return{x:0,y:0}},H,Wa,Ga,p,O,P,I=K(),x=K(),l=K(),ca,ia,A,m={},u,S,Ha,Y,Ia,ua,B=0,ja={},J=K(),y,Ja,C=0,ka,la,ma,Ka,W,da,La=!0,X,na=[],Ma,e,q,Tb,wb,va,w,Xa={},wa=!1,Ya=function(a,b){g.extend(d,b.publicMethods);na.push(a)},lb=function(a){var b=Q();return a>b-1?a-b:0>a?b+a:a},Za={},z=function(a,b){Za[a]||(Za[a]=[]);return Za[a].push(b)},v=function(a){var b=Za[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var h=0;h<b.length;h++)b[h].apply(d,
c)}},Z=function(){return(new Date).getTime()},ea=function(a){mb=a;d.bg.style.opacity=a*k.bgOpacity},Ub=function(a,b,c,h,e){if(!wa||e&&e!==d.currItem)h/=e?e.fitRatio:d.currItem.fitRatio;a[W]=Ha+b+"px, "+c+"px"+Y+" scale("+h+")"},D=function(a){fa&&(a&&(u>d.currItem.fitRatio?wa||(xa(d.currItem,!1,!0),wa=!0):wa&&(xa(d.currItem),wa=!1)),Ub(fa,l.x,l.y,u))},$a=function(a){a.container&&Ub(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel,a)},Na=function(a,b){b[W]=Ha+a+"px, 0px"+
Y},nb=function(a,b){if(!k.loop&&b){var c=p+(J.x*B-a)/J.x,h=Math.round(a-ga.x);if(0>c&&0<h||c>=Q()-1&&0>h)a=ga.x+h*k.mainScrollEndFriction}ga.x=a;Na(a,O)},xb=function(a,b){var c=ab[a]-ja[a];return x[a]+I[a]+c-b/S*c},L=function(a,b){a.x=b.x;a.y=b.y;b.id&&(a.id=b.id)},Vb=function(a){a.x=Math.round(a.x);a.y=Math.round(a.y)},yb=null,zb=function(){yb&&(g.unbind(document,"mousemove",zb),g.addClass(f,"pswp--has_mouse"),k.mouseUsed=!0,v("mouseUsed"));yb=setTimeout(function(){yb=null},100)},Ab=function(a,b){var c=
bb(d.currItem,m,a);b&&(t=c);return c},Wb=function(a){a||(a=d.currItem);return a.initialZoomLevel},Xb=function(a){a||(a=d.currItem);return 0<a.w?k.maxSpreadZoom:1},Yb=function(a,b,c,h){if(h===d.currItem.initialZoomLevel)return c[a]=d.currItem.initialPosition[a],!0;c[a]=xb(a,h);return c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]?(c[a]=b.max[a],!0):!1},qc=function(){W?(Ha="translate"+(w.perspective&&!X?"3d(":"("),Y=w.perspective?", 0px)":")"):(W="left",g.addClass(f,"pswp--ie"),Na=function(a,b){b.left=
a+"px"},$a=function(a){var b=1<a.fitRatio?1:a.fitRatio,c=a.container.style,h=b*a.h;c.width=b*a.w+"px";c.height=h+"px";c.left=a.initialPosition.x+"px";c.top=a.initialPosition.y+"px"},D=function(){if(fa){var a=fa,b=d.currItem,c=1<b.fitRatio?1:b.fitRatio,h=c*b.h;a.width=c*b.w+"px";a.height=h+"px";a.left=l.x+"px";a.top=l.y+"px"}})},rc=function(a){var b="";k.escKey&&27===a.keyCode?b="close":k.arrowKeys&&(37===a.keyCode?b="prev":39===a.keyCode&&(b="next"));!b||a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||
(a.preventDefault?a.preventDefault():a.returnValue=!1,d[b]())},sc=function(a){a&&(Oa||ya||M||cb)&&(a.preventDefault(),a.stopPropagation())},Zb=function(){d.setScrollOffset(0,g.getScrollY())},R={},Pa=0,db=function(a){R[a]&&(R[a].raf&&e(R[a].raf),Pa--,delete R[a])},Bb=function(a){R[a]&&db(a);R[a]||(Pa++,R[a]={})},eb=function(){for(var a in R)R.hasOwnProperty(a)&&db(a)},fb=function(a,b,c,h,d,e,g){var f=Z(),k;Bb(a);var q=function(){R[a]&&(k=Z()-f,k>=h?(db(a),e(c),g&&g()):(e((c-b)*d(k/h)+b),R[a].raf=Ma(q)))};
q()},tc={shout:v,listen:z,viewportSize:m,options:k,isMainScrollAnimating:function(){return M},getZoomLevel:function(){return u},getCurrentIndex:function(){return p},isDragging:function(){return aa},isZooming:function(){return ha},setScrollOffset:function(a,b){ja.x=a;va=ja.y=b;v("updateScrollOffset",ja)},applyZoomPan:function(a,b,c,h){l.x=b;l.y=c;u=a;D(h)},init:function(){if(!H&&!Wa){var a;d.framework=g;d.template=f;d.bg=g.getChildByClass(f,"pswp__bg");q=f.className;H=!0;w=g.detectFeatures();Ma=w.raf;
e=w.caf;W=w.transform;wb=w.oldIE;d.scrollWrap=g.getChildByClass(f,"pswp__scroll-wrap");d.container=g.getChildByClass(d.scrollWrap,"pswp__container");O=d.container.style;d.itemHolders=y=[{el:d.container.children[0],wrap:0,index:-1},{el:d.container.children[1],wrap:0,index:-1},{el:d.container.children[2],wrap:0,index:-1}];y[0].el.style.display=y[2].el.style.display="none";qc();A={resize:d.updateSize,scroll:Zb,keydown:rc,click:sc};a=w.isOldIOSPhone||w.isOldAndroid||w.isMobileOpera;w.animationName&&w.transform&&
!a||(k.showAnimationDuration=k.hideAnimationDuration=0);for(a=0;a<na.length;a++)d["init"+na[a]]();n&&(d.ui=new n(d,g)).init();v("firstUpdate");p=p||k.index||0;if(isNaN(p)||0>p||p>=Q())p=0;d.currItem=oa(p);if(w.isOldIOSPhone||w.isOldAndroid)La=!1;f.setAttribute("aria-hidden","false");k.modal&&(La?f.style.position="fixed":(f.style.position="absolute",f.style.top=g.getScrollY()+"px"));void 0===va&&(v("initialLayout"),va=Tb=g.getScrollY());a="pswp--open ";k.mainClass&&(a+=k.mainClass+" ");k.showHideOpacity&&
(a+="pswp--animate_opacity ");a+=X?"pswp--touch":"pswp--notouch";a+=w.animationName?" pswp--css_animation":"";a+=w.svg?" pswp--svg":"";g.addClass(f,a);d.updateSize();P=-1;C=null;for(a=0;3>a;a++)Na((a+P)*J.x,y[a].el.style);wb||g.bind(d.scrollWrap,ia,d);z("initialZoomInEnd",function(){d.setContent(y[0],p-1);d.setContent(y[2],p+1);y[0].el.style.display=y[2].el.style.display="block";k.focus&&f.focus();g.bind(document,"keydown",d);w.transform&&g.bind(d.scrollWrap,"click",d);k.mouseUsed||g.bind(document,
"mousemove",zb);g.bind(window,"resize scroll",d);v("bindEvents")});d.setContent(y[1],p);d.updateCurrItem();v("afterInit");La||(Ia=setInterval(function(){Pa||aa||ha||u!==d.currItem.initialZoomLevel||d.updateSize()},1E3));g.addClass(f,"pswp--visible")}},close:function(){H&&(H=!1,Wa=!0,v("close"),g.unbind(window,"resize",d),g.unbind(window,"scroll",A.scroll),g.unbind(document,"keydown",d),g.unbind(document,"mousemove",zb),w.transform&&g.unbind(d.scrollWrap,"click",d),aa&&g.unbind(window,ca,d),v("unbindEvents"),
$b(d.currItem,null,!0,d.destroy))},destroy:function(){v("destroy");za&&clearTimeout(za);f.setAttribute("aria-hidden","true");f.className=q;Ia&&clearInterval(Ia);g.unbind(d.scrollWrap,ia,d);g.unbind(window,"scroll",d);Cb();eb();Za=null},panTo:function(a,b,c){c||(a>t.min.x?a=t.min.x:a<t.max.x&&(a=t.max.x),b>t.min.y?b=t.min.y:b<t.max.y&&(b=t.max.y));l.x=a;l.y=b;D()},handleEvent:function(a){a=a||window.event;if(A[a.type])A[a.type](a)},goTo:function(a){a=lb(a);var b=a-p;C=b;p=a;d.currItem=oa(p);B-=b;nb(J.x*
B);eb();M=!1;d.updateCurrItem()},next:function(){d.goTo(p+1)},prev:function(){d.goTo(p-1)},updateCurrZoomItem:function(a){a&&v("beforeChange",0);if(y[1].el.children.length){var b=y[1].el.children[0];fa=g.hasClass(b,"pswp__zoom-wrap")?b.style:null}else fa=null;t=d.currItem.bounds;S=u=d.currItem.initialZoomLevel;l.x=t.center.x;l.y=t.center.y;a&&v("afterChange")},invalidateCurrItems:function(){ua=!0;for(var a=0;3>a;a++)y[a].item&&(y[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==C){var b=
Math.abs(C);if(!(a&&2>b)){d.currItem=oa(p);wa=!1;v("beforeChange",C);3<=b&&(P+=C+(0<C?-3:3),b=3);for(var c=0;c<b;c++)0<C?(a=y.shift(),y[2]=a,P++,Na((P+2)*J.x,a.el.style),d.setContent(a,p-b+c+1+1)):(a=y.pop(),y.unshift(a),P--,Na(P*J.x,a.el.style),d.setContent(a,p+b-c-1-1));fa&&1===Math.abs(C)&&(b=oa(Ja),b.initialZoomLevel!==u&&(bb(b,m),xa(b),$a(b)));C=0;d.updateCurrZoomItem();Ja=p;v("afterChange")}}},updateSize:function(a){if(!La&&k.modal){var b=g.getScrollY();va!==b&&(f.style.top=b+"px",va=b);if(!a&&
Xa.x===window.innerWidth&&Xa.y===window.innerHeight)return;Xa.x=window.innerWidth;Xa.y=window.innerHeight;f.style.height=Xa.y+"px"}m.x=d.scrollWrap.clientWidth;m.y=d.scrollWrap.clientHeight;Zb();J.x=m.x+Math.round(m.x*k.spacing);J.y=m.y;nb(J.x*B);v("beforeResize");if(void 0!==P){for(var c,h=0;3>h;h++)a=y[h],Na((h+P)*J.x,a.el.style),c=p+h-1,k.loop&&2<Q()&&(c=lb(c)),(b=oa(c))&&(ua||b.needsUpdate||!b.bounds)?(d.cleanSlide(b),d.setContent(a,c),1===h&&(d.currItem=b,d.updateCurrZoomItem(!0)),b.needsUpdate=
!1):-1===a.index&&0<=c&&d.setContent(a,c),b&&b.container&&(bb(b,m),xa(b),$a(b));ua=!1}S=u=d.currItem.initialZoomLevel;if(t=d.currItem.bounds)l.x=t.center.x,l.y=t.center.y,D(!0);v("resize")},zoomTo:function(a,b,c,h,d){b&&(S=u,ab.x=Math.abs(b.x)-l.x,ab.y=Math.abs(b.y)-l.y,L(x,l));b=Ab(a,!1);var e={};Yb("x",b,e,a);Yb("y",b,e,a);var f=u,k=l.x,q=l.y;Vb(e);b=function(b){1===b?(u=a,l.x=e.x,l.y=e.y):(u=(a-f)*b+f,l.x=(e.x-k)*b+k,l.y=(e.y-q)*b+q);d&&d(b);D(1===b)};c?fb("customZoomTo",0,1,c,h||g.easing.sine.inOut,
b):b(1)}},ac,ob,E={},ba={},F={},N={},Qa={},pa=[],Aa={},gb,Ba=[],Db,Eb,Fb,cb,hb,pb=0,ib=K(),Gb=0,aa,Hb,ya,Oa,qb,Ca,T,ha,bc,t,ga=K(),fa,M,ab=K(),Da=K(),qa,Ib,rb,mb,sb,uc=function(a,b){return 25>Math.abs(a.x-b.x)&&25>Math.abs(a.y-b.y)},cc=function(a,b){Db=Math.abs(a.x-b.x);Eb=Math.abs(a.y-b.y);return Math.sqrt(Db*Db+Eb*Eb)},Cb=function(){qb&&(e(qb),qb=null)},dc=function(){if(aa&&(qb=Ma(dc),T)){var a=T.length;if(0!==a)if(L(E,T[0]),F.x=E.x-N.x,F.y=E.y-N.y,ha&&1<a){N.x=E.x;N.y=E.y;if(a=!F.x&&!F.y)a=T[1],
a=a.x===ba.x&&a.y===ba.y;if(!a){L(ba,T[1]);ya||(ya=!0,v("zoomGestureStarted"));a=cc(E,ba);a=1/bc*a*S;a>d.currItem.initialZoomLevel+d.currItem.initialZoomLevel/15&&(sb=!0);var b=1,c=Wb(),h=Xb();a<c?k.pinchToClose&&!sb&&S<=d.currItem.initialZoomLevel?(b=1-(c-a)/(c/1.2),ea(b),v("onPinchClose",b),rb=!0):(b=(c-a)/c,1<b&&(b=1),a=c-c/3*b):a>h&&(b=(a-h)/(6*c),1<b&&(b=1),a=h+b*c);ib.x=.5*(E.x+ba.x);ib.y=.5*(E.y+ba.y);I.x+=ib.x-Da.x;I.y+=ib.y-Da.y;L(Da,ib);l.x=xb("x",a);l.y=xb("y",a);Fb=a>u;u=a;D()}}else qa&&
(Ib&&(Ib=!1,10<=Math.abs(F.x)&&(F.x-=T[0].x-Qa.x),10<=Math.abs(F.y)&&(F.y-=T[0].y-Qa.y)),N.x=E.x,N.y=E.y,0!==F.x||0!==F.y)&&("v"===qa&&k.closeOnVerticalDrag&&"fit"===k.scaleMode&&u===d.currItem.initialZoomLevel?(I.y+=F.y,l.y+=F.y,a=ec(),cb=!0,v("onVerticalDrag",a),ea(a),D()):(a=Z(),b=E.x,c=E.y,50<a-ob&&(h=2<Ba.length?Ba.shift():{},h.x=b,h.y=c,Ba.push(h),ob=a),Oa=!0,t=d.currItem.bounds,fc("x",F)||(fc("y",F),Vb(l),D())))}},gc=function(a,b){return!a||a.className&&-1<a.className.indexOf("pswp__scroll-wrap")?
!1:b(a)?a:gc(a.parentNode,b)},Jb={},hc=function(a,b){Jb.prevent=!gc(a.target,k.isClickableElement);v("preventDragEvent",a,b,Jb);return Jb.prevent},ic=function(a,b){b.x=a.pageX;b.y=a.pageY;b.id=a.identifier;return b},ec=function(){return 1-Math.abs((l.y-d.currItem.initialPosition.y)/(m.y/2))},jb={},vc={},ra=[],tb,Kb=function(a){for(;0<ra.length;)ra.pop();da?(tb=0,pa.forEach(function(a){0===tb?ra[0]=a:1===tb&&(ra[1]=a);tb++})):-1<a.type.indexOf("touch")?a.touches&&0<a.touches.length&&(ra[0]=ic(a.touches[0],
jb),1<a.touches.length&&(ra[1]=ic(a.touches[1],vc))):(jb.x=a.pageX,jb.y=a.pageY,jb.id="",ra[0]=jb);return ra},fc=function(a,b){var c,h=l[a]+b[a],e,f=0<b[a],g=ga.x+b.x,q=ga.x-Aa.x,m,n;c=h>t.min[a]||h<t.max[a]?k.panEndFriction:1;h=l[a]+b[a]*c;if(k.allowPanToNext||u===d.currItem.initialZoomLevel)if(fa?"h"!==qa||"x"!==a||ya||(f?(h>t.min[a]&&(c=k.panEndFriction,e=t.min[a]-x[a]),(0>=e||0>q)&&1<Q()?(n=g,0>q&&g>Aa.x&&(n=Aa.x)):t.min.x!==t.max.x&&(m=h)):(h<t.max[a]&&(c=k.panEndFriction,e=x[a]-t.max[a]),(0>=
e||0<q)&&1<Q()?(n=g,0<q&&g<Aa.x&&(n=Aa.x)):t.min.x!==t.max.x&&(m=h))):n=g,"x"===a)return void 0!==n&&(nb(n,!0),Ca=n===Aa.x?!1:!0),t.min.x!==t.max.x&&(void 0!==m?l.x=m:Ca||(l.x+=b.x*c)),void 0!==n;M||Ca||u>d.currItem.fitRatio&&(l[a]+=b[a]*c)},wc=function(a){if(!("mousedown"===a.type&&0<a.button))if(Ra)a.preventDefault();else if(!hb||"mousedown"!==a.type){hc(a,!0)&&a.preventDefault();v("pointerDown");if(da){var b=g.arraySearch(pa,a.pointerId,"id");0>b&&(b=pa.length);pa[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}a=
Kb(a);b=a.length;T=null;eb();aa&&1!==b||(aa=Ib=!0,g.bind(window,ca,d),Fb=sb=rb=cb=Ca=Oa=Hb=ya=!1,qa=null,v("firstTouchStart",a),L(x,l),I.x=I.y=0,L(N,a[0]),L(Qa,N),Aa.x=J.x*B,Ba=[{x:N.x,y:N.y}],ob=ac=Z(),Ab(u,!0),Cb(),dc());!ha&&1<b&&!M&&!Ca&&(S=u,ya=!1,ha=Hb=!0,I.y=I.x=0,L(x,l),L(E,a[0]),L(ba,a[1]),Da.x=.5*(E.x+ba.x),Da.y=.5*(E.y+ba.y),ab.x=Math.abs(Da.x)-l.x,ab.y=Math.abs(Da.y)-l.y,bc=cc(E,ba))}},xc=function(a){a.preventDefault();if(da){var b=g.arraySearch(pa,a.pointerId,"id");-1<b&&(b=pa[b],b.x=
a.pageX,b.y=a.pageY)}aa&&(a=Kb(a),qa||Oa||ha?T=a:ga.x!==J.x*B?qa="h":(b=Math.abs(a[0].x-N.x)-Math.abs(a[0].y-N.y),10<=Math.abs(b)&&(qa=0<b?"h":"v",T=a)))},Cc=function(a){if(w.isOldAndroid){if(hb&&"mouseup"===a.type)return;-1<a.type.indexOf("touch")&&(clearTimeout(hb),hb=setTimeout(function(){hb=0},600))}v("pointerUp");hc(a,!1)&&a.preventDefault();var b;if(da){var c=g.arraySearch(pa,a.pointerId,"id");-1<c&&(b=pa.splice(c,1)[0],navigator.pointerEnabled?b.type=a.pointerType||"mouse":(b.type={4:"mouse",
2:"touch",3:"pen"}[a.pointerType],b.type||(b.type=a.pointerType||"mouse")))}var h=Kb(a),c=h.length;"mouseup"===a.type&&(c=0);if(2===c)return T=null,!0;1===c&&L(Qa,h[0]);0!==c||qa||M||(b||("mouseup"===a.type?b={x:a.pageX,y:a.pageY,type:"mouse"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:"touch"})),v("touchRelease",a,b));a=-1;0===c&&(aa=!1,g.unbind(window,ca,d),Cb(),ha?a=0:-1!==Gb&&(a=Z()-Gb));Gb=1===c?Z():-1;a=-1!==a&&150>a?"zoom":"swipe";
ha&&2>c&&(ha=!1,1===c&&(a="zoomPointerUp"),v("zoomGestureEnded"));T=null;if(Oa||ya||M||cb)if(eb(),gb||(gb=yc()),gb.calculateSwipeSpeed("x"),cb)if(ec()<k.verticalDragRange)d.close();else{var e=l.y,f=mb;fb("verticalDrag",0,1,300,g.easing.cubic.out,function(a){l.y=(d.currItem.initialPosition.y-e)*a+e;ea((1-f)*a+f);D()});v("onVerticalDrag",1)}else{if((Ca||M)&&0===c){if(zc(a,gb))return;a="zoomPointerUp"}M||("swipe"!==a?Ac():!Ca&&u>d.currItem.fitRatio&&Bc(gb))}},yc=function(){var a,b,c={lastFlickOffset:{},
lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(h){1<Ba.length?(a=Z()-ob+50,b=Ba[Ba.length-2][h]):(a=Z()-ac,b=Qa[h]);c.lastFlickOffset[h]=N[h]-b;c.lastFlickDist[h]=Math.abs(c.lastFlickOffset[h]);c.lastFlickSpeed[h]=20<c.lastFlickDist[h]?c.lastFlickOffset[h]/a:0;.1>Math.abs(c.lastFlickSpeed[h])&&(c.lastFlickSpeed[h]=0);c.slowDownRatio[h]=
.95;c.slowDownRatioReverse[h]=1-c.slowDownRatio[h];c.speedDecelerationRatio[h]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||(l[a]>t.min[a]?c.backAnimDestination[a]=t.min[a]:l[a]<t.max[a]&&(c.backAnimDestination[a]=t.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],.05>c.speedDecelerationRatioAbs[a]&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,fb("bounceZoomPan"+a,l[a],c.backAnimDestination[a],b||300,g.easing.sine.out,
function(b){l[a]=b;D()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]*=c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10,c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,l[a]+=c.distanceOffset[a])},panAnimLoop:function(){R.zoomPan&&(R.zoomPan.raf=Ma(c.panAnimLoop),c.now=Z(),c.timeDiff=c.now-c.lastNow,c.lastNow=
c.now,c.calculateAnimOffset("x"),c.calculateAnimOffset("y"),D(),c.calculateOverBoundsAnimOffset("x"),c.calculateOverBoundsAnimOffset("y"),.05>c.speedDecelerationRatioAbs.x&&.05>c.speedDecelerationRatioAbs.y&&(l.x=Math.round(l.x),l.y=Math.round(l.y),D(),db("zoomPan")))}};return c},Bc=function(a){a.calculateSwipeSpeed("y");t=d.currItem.bounds;a.backAnimDestination={};a.backAnimStarted={};if(.05>=Math.abs(a.lastFlickSpeed.x)&&.05>=Math.abs(a.lastFlickSpeed.y))return a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=
0,a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),!0;Bb("zoomPan");a.lastNow=Z();a.panAnimLoop()},zc=function(a,b){var c;M||(pb=p);var h;if("swipe"===a){var e=N.x-Qa.x,f=10>b.lastFlickDist.x;30<e&&(f||20<b.lastFlickOffset.x)?h=-1:-30>e&&(f||-20>b.lastFlickOffset.x)&&(h=1)}var q;h&&(p+=h,0>p?(p=k.loop?Q()-1:0,q=!0):p>=Q()&&(p=k.loop?0:Q()-1,q=!0),!q||k.loop)&&(C+=h,B-=h,c=!0);h=J.x*B;e=Math.abs(h-ga.x);c||h>ga.x===0<b.lastFlickSpeed.x?(e=0<Math.abs(b.lastFlickSpeed.x)?e/Math.abs(b.lastFlickSpeed.x):
333,e=Math.min(e,400),e=Math.max(e,250)):e=333;pb===p&&(c=!1);M=!0;v("mainScrollAnimStart");fb("mainScroll",ga.x,h,e,g.easing.cubic.out,nb,function(){eb();M=!1;pb=-1;(c||pb!==p)&&d.updateCurrItem();v("mainScrollAnimComplete")});c&&d.updateCurrItem(!0);return c},Ac=function(){var a=u,b=Wb(),c=Xb();u<b?a=b:u>c&&(a=c);var h,e=mb;if(rb&&!Fb&&!sb&&u<b)return d.close(),!0;rb&&(h=function(a){ea((1-e)*a+e)});d.zoomTo(a,0,200,g.easing.cubic.out,h);return!0};Ya("Gestures",{publicMethods:{initGestures:function(){var a=
function(a,c,d,e,f){ka=a+c;la=a+d;ma=a+e;Ka=f?a+f:""};(da=w.pointerEvent)&&w.touch&&(w.touch=!1);da?navigator.pointerEnabled?a("pointer","down","move","up","cancel"):a("MSPointer","Down","Move","Up","Cancel"):w.touch?(a("touch","start","move","end","cancel"),X=!0):a("mouse","down","move","up");ca=la+" "+ma+" "+Ka;ia=ka;da&&!X&&(X=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints);d.likelyTouchDevice=X;A[ka]=wc;A[la]=xc;A[ma]=Cc;Ka&&(A[Ka]=A[ma]);w.touch&&(ia+=" mousedown",ca+=" mousemove mouseup",
A.mousedown=A[ka],A.mousemove=A[la],A.mouseup=A[ma]);X||(k.allowPanToNext=!1)}}});var za,$b=function(a,b,c,e){za&&clearTimeout(za);Lb=Ra=!0;var q;a.initialLayout?(q=a.initialLayout,a.initialLayout=null):q=k.getThumbBoundsFn&&k.getThumbBoundsFn(p);var m=c?k.hideAnimationDuration:k.showAnimationDuration,n=function(){db("initialZoom");c?(d.template.removeAttribute("style"),d.bg.removeAttribute("style")):(ea(1),b&&(b.style.display="block"),g.addClass(f,"pswp--animated-in"),v("initialZoom"+(c?"OutEnd":
"InEnd")));e&&e();Ra=!1};m&&q&&void 0!==q.x?function(){var b=Ga,e=!d.currItem.src||d.currItem.loadError||k.showHideOpacity;a.miniImg&&(a.miniImg.style.webkitBackfaceVisibility="hidden");c||(u=q.w/a.w,l.x=q.x,l.y=q.y-Tb,d[e?"template":"bg"].style.opacity=.001,D());Bb("initialZoom");c&&!b&&g.removeClass(f,"pswp--animated-in");if(e)if(c)g[(b?"remove":"add")+"Class"](f,"pswp--animate_opacity");else setTimeout(function(){g.addClass(f,"pswp--animate_opacity")},30);za=setTimeout(function(){v("initialZoom"+
(c?"Out":"In"));if(c){var d=q.w/a.w,h=l.x,k=l.y,p=u,t=mb,r=function(a){1===a?(u=d,l.x=q.x,l.y=q.y-va):(u=(d-p)*a+p,l.x=(q.x-h)*a+h,l.y=(q.y-va-k)*a+k);D();e?f.style.opacity=1-a:ea(t-a*t)};b?fb("initialZoom",0,1,m,g.easing.cubic.out,r,n):(r(1),za=setTimeout(n,m+20))}else u=a.initialZoomLevel,L(l,a.initialPosition),D(),ea(1),e?f.style.opacity=1:ea(1),za=setTimeout(n,m+20)},c?25:90)}():(v("initialZoom"+(c?"Out":"In")),u=a.initialZoomLevel,L(l,a.initialPosition),D(),f.style.opacity=c?0:1,ea(1),m?setTimeout(function(){n()},
m):n())},sa,Sa,Ta,Ea=[],Lb,Ra,Dc={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return sa.length}},oa,Q,jc=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},bb=function(a,b,c){if(a.src&&!a.loadError){var e=!c;e&&(a.vGap||(a.vGap={top:0,bottom:0}),v("parseVerticalMargin",a));Sa=b.x;Ta=b.y-a.vGap.top-a.vGap.bottom;if(e){b=Sa/a.w;var d=Ta/a.h;a.fitRatio=
b<d?b:d;b=k.scaleMode;"orig"===b?c=1:"fit"===b&&(c=a.fitRatio);1<c&&(c=1);a.initialZoomLevel=c;a.bounds||(a.bounds=jc())}if(c){b=a.w*c;var d=a.h*c,f=a.bounds;f.center.x=Math.round((Sa-b)/2);f.center.y=Math.round((Ta-d)/2)+a.vGap.top;f.max.x=b>Sa?Math.round(Sa-b):f.center.x;f.max.y=d>Ta?Math.round(Ta-d)+a.vGap.top:f.center.y;f.min.x=b>Sa?0:f.center.x;f.min.y=d>Ta?a.vGap.top:f.center.y;e&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center);return a.bounds}}else return a.w=a.h=0,a.initialZoomLevel=
a.fitRatio=1,a.bounds=jc(),a.initialPosition=a.bounds.center,a.bounds},ub=function(a,b,c,e,f,q){!b.loadError&&e&&(b.imageAppended=!0,xa(b,e,b===d.currItem&&wa),c.appendChild(e),q&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display="none",b.placeholder=null)},500))},kc=function(a){a.loading=!0;a.loaded=!1;var b=a.img=g.createEl("pswp__img","img"),c=function(){a.loading=!1;a.loaded=!0;a.loadComplete?a.loadComplete(a):a.img=null;b=b.onload=b.onerror=null};b.onload=c;b.onerror=
function(){a.loadError=!0;c()};b.src=a.src;return b},lc=function(a,b){if(a.src&&a.loadError&&a.container)return b&&(a.container.innerHTML=""),a.container.innerHTML=k.errorMsg.replace("%url%",a.src),!0},xa=function(a,b,c){if(a.src){b||(b=a.container.lastChild);var e=c?a.w:Math.round(a.w*a.fitRatio);c=c?a.h:Math.round(a.h*a.fitRatio);a.placeholder&&!a.loaded&&(a.placeholder.style.width=e+"px",a.placeholder.style.height=c+"px");b.style.width=e+"px";b.style.height=c+"px"}},mc=function(){if(Ea.length){for(var a,
b=0;b<Ea.length;b++)a=Ea[b],a.holder.index===a.index&&ub(a.index,a.item,a.baseDiv,a.img,!1,a.clearPlaceholder);Ea=[]}};Ya("Controller",{publicMethods:{lazyLoadItem:function(a){a=lb(a);var b=oa(a);b&&(!b.loaded&&!b.loading||ua)&&(v("gettingData",a,b),b.src&&kc(b))},initController:function(){g.extend(k,Dc,!0);d.items=sa=r;oa=d.getItemAt;Q=k.getNumItemsFn;3>Q()&&(k.loop=!1);z("beforeChange",function(a){var b=k.preload;a=null===a?!0:0<=a;var c=Math.min(b[0],Q()),b=Math.min(b[1],Q()),e;for(e=1;e<=(a?b:
c);e++)d.lazyLoadItem(p+e);for(e=1;e<=(a?c:b);e++)d.lazyLoadItem(p-e)});z("initialLayout",function(){d.currItem.initialLayout=k.getThumbBoundsFn&&k.getThumbBoundsFn(p)});z("mainScrollAnimComplete",mc);z("initialZoomInEnd",mc);z("destroy",function(){for(var a,b=0;b<sa.length;b++)a=sa[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);Ea=null})},getItemAt:function(a){return 0<=a?void 0!==sa[a]?
sa[a]:!1:!1},allowProgressiveImg:function(){return k.forceProgressiveLoading||!X||k.mouseUsed||1200<screen.width},setContent:function(a,b){k.loop&&(b=lb(b));var c=d.getItemAt(a.index);c&&(c.container=null);var c=d.getItemAt(b),e;if(c){v("gettingData",b,c);a.index=b;a.item=c;var f=c.container=g.createEl("pswp__zoom-wrap");!c.src&&c.html&&(c.html.tagName?f.appendChild(c.html):f.innerHTML=c.html);lc(c);bb(c,m);if(!c.src||c.loadError||c.loaded)c.src&&!c.loadError&&(e=g.createEl("pswp__img","img"),e.style.opacity=
1,e.src=c.src,xa(c,e),ub(b,c,f,e,!0));else{c.loadComplete=function(c){if(H){if(a&&a.index===b){if(lc(c,!0)){c.loadComplete=c.img=null;bb(c,m);$a(c);a.index===p&&d.updateCurrZoomItem();return}c.imageAppended?!Ra&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):w.transform&&(M||Ra)?Ea.push({item:c,baseDiv:f,img:c.img,index:b,holder:a,clearPlaceholder:!0}):ub(b,c,f,c.img,M||Ra,!0)}c.loadComplete=null;c.img=null;v("imageLoadComplete",b,c)}};if(g.features.transform){var q;q="pswp__img pswp__img--placeholder"+
(c.msrc?"":" pswp__img--placeholder--blank");q=g.createEl(q,c.msrc?"img":"");c.msrc&&(q.src=c.msrc);xa(c,q);f.appendChild(q);c.placeholder=q}c.loading||kc(c);d.allowProgressiveImg()&&(!Lb&&w.transform?Ea.push({item:c,baseDiv:f,img:c.img,index:b,holder:a}):ub(b,c,f,c.img,!0,!0))}Lb||b!==p?$a(c):(fa=f.style,$b(c,e||c.img));a.el.innerHTML="";a.el.appendChild(f)}else a.el.innerHTML=""},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null);a.loaded=a.loading=a.img=a.imageAppended=!1}}});var ta,
Mb={},Nb=function(a,b,c){var e=document.createEvent("CustomEvent");e.initCustomEvent("pswpTap",!0,!0,{origEvent:a,target:a.target,releasePoint:b,pointerType:c||"touch"});a.target.dispatchEvent(e)};Ya("Tap",{publicMethods:{initTap:function(){z("firstTouchStart",d.onTapStart);z("touchRelease",d.onTapRelease);z("destroy",function(){Mb={};ta=null})},onTapStart:function(a){1<a.length&&(clearTimeout(ta),ta=null)},onTapRelease:function(a,b){if(b&&!Oa&&!Hb&&!Pa){if(ta&&(clearTimeout(ta),ta=null,uc(b,Mb))){v("doubleTap",
b);return}"mouse"===b.type?Nb(a,b,"mouse"):"BUTTON"===a.target.tagName.toUpperCase()||g.hasClass(a.target,"pswp__single-tap")?Nb(a,b):(L(Mb,b),ta=setTimeout(function(){Nb(a,b);ta=null},300))}}}});var U;Ya("DesktopZoom",{publicMethods:{initDesktopZoom:function(){wb||(X?z("mouseUsed",function(){d.setupDesktopZoom()}):d.setupDesktopZoom(!0))},setupDesktopZoom:function(a){U={};z("bindEvents",function(){g.bind(f,"wheel mousewheel DOMMouseScroll",d.handleMouseWheel)});z("unbindEvents",function(){U&&g.unbind(f,
"wheel mousewheel DOMMouseScroll",d.handleMouseWheel)});d.mouseZoomedIn=!1;var b,c=function(){d.mouseZoomedIn&&(g.removeClass(f,"pswp--zoomed-in"),d.mouseZoomedIn=!1);1>u?g.addClass(f,"pswp--zoom-allowed"):g.removeClass(f,"pswp--zoom-allowed");e()},e=function(){b&&(g.removeClass(f,"pswp--dragging"),b=!1)};z("resize",c);z("afterChange",c);z("pointerDown",function(){d.mouseZoomedIn&&(b=!0,g.addClass(f,"pswp--dragging"))});z("pointerUp",e);a||c()},handleMouseWheel:function(a){if(u<=d.currItem.fitRatio)return k.modal&&
(!k.closeOnScroll||Pa||aa?a.preventDefault():W&&2<Math.abs(a.deltaY)&&(Ga=!0,d.close())),!0;a.stopPropagation();U.x=0;if("deltaX"in a)1===a.deltaMode?(U.x=18*a.deltaX,U.y=18*a.deltaY):(U.x=a.deltaX,U.y=a.deltaY);else if("wheelDelta"in a)a.wheelDeltaX&&(U.x=-.16*a.wheelDeltaX),U.y=a.wheelDeltaY?-.16*a.wheelDeltaY:-.16*a.wheelDelta;else if("detail"in a)U.y=a.detail;else return;Ab(u,!0);var b=l.x-U.x,c=l.y-U.y;(k.modal||b<=t.min.x&&b>=t.max.x&&c<=t.min.y&&c>=t.max.y)&&a.preventDefault();d.panTo(b,c)},
toggleDesktopZoom:function(a){a=a||{x:m.x/2+ja.x,y:m.y/2+ja.y};var b=k.getDoubleTapZoom(!0,d.currItem),c=u===b;d.mouseZoomedIn=!c;d.zoomTo(c?d.currItem.initialZoomLevel:b,a,333);g[(c?"remove":"add")+"Class"](f,"pswp--zoomed-in")}}});var Ec={history:!0,galleryUID:1},kb,nc,Fa,vb,Ob,oc,G,Ua,Pb,Qb,V,Rb,pc=function(){var a=V.hash.substring(1),b={};if(5>a.length)return b;for(var c=a.split("&"),a=0;a<c.length;a++)if(c[a]){var e=c[a].split("=");2>e.length||(b[e[0]]=e[1])}if(k.galleryPIDs)for(c=b.pid,a=b.pid=
0;a<sa.length;a++){if(sa[a].pid===c){b.pid=a;break}}else b.pid=parseInt(b.pid,10)-1;0>b.pid&&(b.pid=0);return b},Sb=function(){Fa&&clearTimeout(Fa);if(Pa||aa)Fa=setTimeout(Sb,500);else{vb?clearTimeout(nc):vb=!0;var a=p+1,b=oa(p);b.hasOwnProperty("pid")&&(a=b.pid);a=G+"&gid="+k.galleryUID+"&pid="+a;Ua||-1===V.hash.indexOf(a)&&(Qb=!0);b=V.href.split("#")[0]+"#"+a;if(Rb){if("#"+a!==window.location.hash)history[Ua?"replaceState":"pushState"]("",document.title,b)}else Ua?V.replace(b):V.hash=a;Ua=!0;nc=
setTimeout(function(){vb=!1},60)}};Ya("History",{publicMethods:{initHistory:function(){g.extend(k,Ec,!0);if(k.history){V=window.location;Ua=Pb=Qb=!1;G=V.hash.substring(1);Rb="pushState"in history;-1<G.indexOf("gid=")&&(G=G.split("&gid=")[0],G=G.split("?gid=")[0]);z("afterChange",d.updateURL);z("unbindEvents",function(){g.unbind(window,"hashchange",d.onHashChange)});var a=function(){oc=!0;Pb||(Qb?history.back():G?V.hash=G:Rb?history.pushState("",document.title,V.pathname+V.search):V.hash="");kb&&clearTimeout(kb);
Fa&&clearTimeout(Fa)};z("unbindEvents",function(){Ga&&a()});z("destroy",function(){oc||a()});z("firstUpdate",function(){p=pc().pid});var b=G.indexOf("pid=");-1<b&&(G=G.substring(0,b),"&"===G.slice(-1)&&(G=G.slice(0,-1)));setTimeout(function(){H&&g.bind(window,"hashchange",d.onHashChange)},40)}},onHashChange:function(){V.hash.substring(1)===G?(Pb=!0,d.close()):vb||(Ob=!0,d.goTo(pc().pid),Ob=!1)},updateURL:function(){kb&&clearTimeout(kb);Fa&&clearTimeout(Fa);Ob||(Ua?kb=setTimeout(Sb,800):Sb())}}});
g.extend(d,tc)}});
(function(f,n){"function"===typeof define&&define.amd?define(n):"object"===typeof exports?module.exports=n():f.PhotoSwipeUI_Default=n()})(this,function(){return function(f,n){var r=this,Va=!1,g=!0,d,k,K,H,Wa,Ga,p,O=!0,P,I,x,l,ca,ia,A,m,u={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4E3,timeToIdleOutside:1E3,loadingIndicatorDelay:1E3,addCaptionHTMLFn:function(e,d){if(!e.title)return d.children[0].innerHTML="",!1;d.children[0].innerHTML=e.title;
return!0},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},
{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return f.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return f.currItem.title||""},indexIndicatorSep:" / "},S,Ha=function(e){if(S)return!0;e=e||window.event;m.timeToIdle&&m.mouseUsed&&!I&&la();for(var d,f=(e.target||e.srcElement).className,g,k=0;k<na.length;k++)d=na[k],d.onTap&&-1<f.indexOf("pswp__"+d.name)&&(d.onTap(),g=!0);g&&(e.stopPropagation&&
e.stopPropagation(),S=!0,setTimeout(function(){S=!1},n.features.isOldAndroid?600:30))},Y=function(e,d,f){n[(f?"add":"remove")+"Class"](e,"pswp__"+d)},Ia=function(){var e=1===m.getNumItemsFn();e!==A&&(Y(k,"ui--one-slide",e),A=e)},ua=function(){Y(p,"share-modal--hidden",O)},B=function(){(O=!O)?(n.removeClass(p,"pswp__share-modal--fade-in"),setTimeout(function(){O&&ua()},300)):(ua(),setTimeout(function(){O||n.addClass(p,"pswp__share-modal--fade-in")},30));O||J();return!1},ja=function(e){e=e||window.event;
var d=e.target||e.srcElement;f.shout("shareLinkClick",e,d);if(!d.href)return!1;if(d.hasAttribute("download"))return!0;window.open(d.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100));O||B();return!1},J=function(){for(var e="",d,f,g,k,l=0;l<m.shareButtons.length;l++)d=m.shareButtons[l],f=m.getImageURLForShare(d),g=m.getPageURLForShare(d),k=m.getTextForShare(d),f=d.url.replace("{{url}}",encodeURIComponent(g)).replace("{{image_url}}",
encodeURIComponent(f)).replace("{{raw_image_url}}",f).replace("{{text}}",encodeURIComponent(k)),e+='<a href="'+f+'" target="_blank" class="pswp__share--'+d.id+'"'+(d.download?"download":"")+">"+d.label+"</a>",m.parseShareButtonOut&&(e=m.parseShareButtonOut(d,e));p.children[0].innerHTML=e;p.children[0].onclick=ja},y=function(e){for(var d=0;d<m.closeElClasses.length;d++)if(n.hasClass(e,"pswp__"+m.closeElClasses[d]))return!0},Ja,C,ka=0,la=function(){clearTimeout(C);ka=0;I&&r.setIdle(!1)},ma=function(e){e=
e?e:window.event;e=e.relatedTarget||e.toElement;e&&"HTML"!==e.nodeName||(clearTimeout(C),C=setTimeout(function(){r.setIdle(!0)},m.timeToIdleOutside))},Ka=function(){m.preloaderEl&&(W(!0),x("beforeChange",function(){clearTimeout(ia);ia=setTimeout(function(){f.currItem&&f.currItem.loading?(!f.allowProgressiveImg()||f.currItem.img&&!f.currItem.img.naturalWidth)&&W(!1):W(!0)},m.loadingIndicatorDelay)}),x("imageLoadComplete",function(e,d){f.currItem===d&&W(!0)}))},W=function(e){ca!==e&&(Y(l,"preloader--active",
!e),ca=e)},da=function(e){var d=e.vGap;if(!f.likelyTouchDevice||m.mouseUsed||1200<screen.width){var g=m.barsSize;m.captionEl&&"auto"===g.bottom?(H||(H=n.createEl("pswp__caption pswp__caption--fake"),H.appendChild(n.createEl("pswp__caption__center")),k.insertBefore(H,K),n.addClass(k,"pswp__ui--fit")),m.addCaptionHTMLFn(e,H,!0)?d.bottom=parseInt(H.clientHeight,10)||44:d.bottom=g.top):d.bottom="auto"===g.bottom?0:g.bottom;d.top=g.top}else d.top=d.bottom=0},La=function(){m.timeToIdle&&x("mouseUsed",function(){n.bind(document,
"mousemove",la);n.bind(document,"mouseout",ma);Ja=setInterval(function(){ka++;2===ka&&r.setIdle(!0)},m.timeToIdle/2)})},X=function(){x("onVerticalDrag",function(d){g&&.95>d?r.hideControls():!g&&.95<=d&&r.showControls()});var d;x("onPinchClose",function(f){g&&.9>f?(r.hideControls(),d=!0):d&&!g&&.9<f&&r.showControls()});x("zoomGestureEnded",function(){d=!1})},na=[{name:"caption",option:"captionEl",onInit:function(d){K=d}},{name:"share-modal",option:"shareEl",onInit:function(d){p=d},onTap:function(){B()}},
{name:"button--share",option:"shareEl",onInit:function(d){Ga=d},onTap:function(){B()}},{name:"button--zoom",option:"zoomEl",onTap:f.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(d){Wa=d}},{name:"button--close",option:"closeEl",onTap:f.close},{name:"button--arrow--left",option:"arrowEl",onTap:f.prev},{name:"button--arrow--right",option:"arrowEl",onTap:f.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){d.isFullscreen()?d.exit():d.enter()}},{name:"preloader",option:"preloaderEl",
onInit:function(d){l=d}}],Ma=function(){var d,f,g,l=function(k){if(k)for(var l=k.length,p=0;p<l;p++){d=k[p];f=d.className;for(var r=0;r<na.length;r++)if(g=na[r],-1<f.indexOf("pswp__"+g.name))if(m[g.option]){if(n.removeClass(d,"pswp__element--disabled"),g.onInit)g.onInit(d)}else n.addClass(d,"pswp__element--disabled")}};l(k.children);var p=n.getChildByClass(k,"pswp__top-bar");p&&l(p.children)};r.init=function(){n.extend(f.options,u,!0);m=f.options;k=n.getChildByClass(f.scrollWrap,"pswp__ui");x=f.listen;
X();x("beforeChange",r.update);x("doubleTap",function(d){var g=f.currItem.initialZoomLevel;f.getZoomLevel()!==g?f.zoomTo(g,d,333):f.zoomTo(m.getDoubleTapZoom(!1,f.currItem),d,333)});x("preventDragEvent",function(d,f,g){(f=d.target||d.srcElement)&&f.className&&-1<d.type.indexOf("mouse")&&(0<f.className.indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(f.tagName))&&(g.prevent=!1)});x("bindEvents",function(){n.bind(k,"pswpTap click",Ha);n.bind(f.scrollWrap,"pswpTap",r.onGlobalTap);f.likelyTouchDevice||
n.bind(f.scrollWrap,"mouseover",r.onMouseOver)});x("unbindEvents",function(){O||B();Ja&&clearInterval(Ja);n.unbind(document,"mouseout",ma);n.unbind(document,"mousemove",la);n.unbind(k,"pswpTap click",Ha);n.unbind(f.scrollWrap,"pswpTap",r.onGlobalTap);n.unbind(f.scrollWrap,"mouseover",r.onMouseOver);d&&(n.unbind(document,d.eventK,r.updateFullscreen),d.isFullscreen()&&(m.hideAnimationDuration=0,d.exit()),d=null)});x("destroy",function(){m.captionEl&&(H&&k.removeChild(H),n.removeClass(K,"pswp__caption--empty"));
p&&(p.children[0].onclick=null);n.removeClass(k,"pswp__ui--over-close");n.addClass(k,"pswp__ui--hidden");r.setIdle(!1)});m.showAnimationDuration||n.removeClass(k,"pswp__ui--hidden");x("initialZoomIn",function(){m.showAnimationDuration&&n.removeClass(k,"pswp__ui--hidden")});x("initialZoomOut",function(){n.addClass(k,"pswp__ui--hidden")});x("parseVerticalMargin",da);Ma();m.shareEl&&Ga&&p&&(O=!0);Ia();La();m.fullscreenEl&&(d||(d=r.getFullscreenAPI()),d?(n.bind(document,d.eventK,r.updateFullscreen),r.updateFullscreen(),
n.addClass(f.template,"pswp--supports-fs")):n.removeClass(f.template,"pswp--supports-fs"));Ka()};r.setIdle=function(d){I=d;Y(k,"ui--idle",d)};r.update=function(){g&&f.currItem?(r.updateIndexIndicator(),m.captionEl&&(m.addCaptionHTMLFn(f.currItem,K),Y(K,"caption--empty",!f.currItem.title)),Va=!0):Va=!1;O||B();Ia()};r.updateFullscreen=function(e){e&&setTimeout(function(){f.setScrollOffset(0,n.getScrollY())},50);n[(d.isFullscreen()?"add":"remove")+"Class"](f.template,"pswp--fs")};r.updateIndexIndicator=
function(){m.counterEl&&(Wa.innerHTML=f.getCurrentIndex()+1+m.indexIndicatorSep+m.getNumItemsFn())};r.onGlobalTap=function(d){d=d||window.event;var k=d.target||d.srcElement;S||(d.detail&&"mouse"===d.detail.pointerType?y(k)?f.close():n.hasClass(k,"pswp__img")&&(1===f.getZoomLevel()&&f.getZoomLevel()<=f.currItem.fitRatio?m.clickToCloseNonZoomable&&f.close():f.toggleDesktopZoom(d.detail.releasePoint)):(m.tapToToggleControls&&(g?r.hideControls():r.showControls()),m.tapToClose&&(n.hasClass(k,"pswp__img")||
y(k))&&f.close()))};r.onMouseOver=function(d){d=d||window.event;Y(k,"ui--over-close",y(d.target||d.srcElement))};r.hideControls=function(){n.addClass(k,"pswp__ui--hidden");g=!1};r.showControls=function(){g=!0;Va||r.update();n.removeClass(k,"pswp__ui--hidden")};r.supportsFullscreen=function(){var d=document;return!!(d.exitFullscreen||d.mozCancelFullScreen||d.webkitExitFullscreen||d.msExitFullscreen)};r.getFullscreenAPI=function(){var d=document.documentElement,g;d.requestFullscreen?g={enterK:"requestFullscreen",
exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:"fullscreenchange"}:d.mozRequestFullScreen?g={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"mozfullscreenchange"}:d.webkitRequestFullscreen?g={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkitfullscreenchange"}:d.msRequestFullscreen&&(g={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"});
g&&(g.enter=function(){P=m.closeOnScroll;m.closeOnScroll=!1;if("webkitRequestFullscreen"===this.enterK)f.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);else return f.template[this.enterK]()},g.exit=function(){m.closeOnScroll=P;return document[this.exitK]()},g.isFullscreen=function(){return document[this.elementK]});return g}}});